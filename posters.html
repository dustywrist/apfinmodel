<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:title" content="NOT" />
  <meta property="og:description" content="imaginary music site" />
  <link rel="icon" type="image/x-icon" href="images/favicon.png" />
  <link rel="stylesheet" href="stylesheets/style.css" />
  <title>NOT</title>
  <style>
    /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –∏ —Ñ–æ–Ω */
    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      background-color: #fff;
      height: 200vh;
    }

    .content-wrapper {
      position: relative;
      z-index: 1;
      min-height: 100vh;
    }

    /* –ü–æ—Å—Ç–µ—Ä—ã */
    .nachinka_posters {
      display: flex;
      flex-direction: column;
      gap: 2.6vw;
      top: 10%;
      position: relative;
    }

    .nachinka_posters_1,
    .nachinka_posters_4 {
      width: 100%;
    }

    .fullwidth-video {
      width: 100%;
      height: auto;
      display: block;
    }

    .nachinka_posters_2 {
      display: flex;
      justify-content: flex-start;
      gap: 4vw;
      flex-wrap: wrap;
    }

    .nachinka_posters_2 img,
    .nachinka_posters_2 video {
      max-width: 48%;
      height: auto;
      object-fit: cover;
    }

    .nachinka_posters_2 img {
      border-top-right-radius: 1vw;
      border-bottom-right-radius: 1vw;
    }

    .nachinka_posters_2 video {
      border-top-left-radius: 1vw;
      border-bottom-left-radius: 1vw;
    }

    .nachinka_posters_3 {
      padding: 4vw;
      display: flex;
      flex-direction: column;
      gap: 3vw;
      justify-content: center;
      align-items: center;
    }

    .nachinka_posters_3 img {
      max-width: 17%;
      height: auto;
      object-fit: cover;
      box-shadow: 0.52vw 0.52vw 1.04vw rgba(0, 0, 0, 0.5);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      cursor: pointer;
      border-radius: 0.5vw;
      opacity: 0;
    }

    .nachinka_posters_3 img:hover {
      transform: scale(1.08);
      box-shadow: 1vw 1vw 2vw rgba(0, 0, 0, 0.6);
      z-index: 2;
    }

    .posters_1_line {
      display: flex;
      gap: 10vw;
      justify-content: center;
      align-items: center;
    }

    .nachinka_posters_4 {
      width: 100vw;
      overflow: hidden;
      margin-left: 0;
      position: relative;
    }

    .nachinka_posters_4 video {
      width: 100vw;
      height: auto;
      object-fit: contain;
      display: block;
    }

    /* –û–≤–µ—Ä–ª–µ–π */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.3);
      box-shadow: 0px 3.77px 3.77px rgba(0, 0, 0, 0.25);
      backdrop-filter: blur(0px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      opacity: 0;
    }

    .overlay-content {
      padding: 2vw;
      border-radius: 1vw;
      display: flex;
      flex-wrap: wrap;
      gap: 2vw;
      max-width: 90vw;
      justify-content: center;
    }

    .overlay-content img {
      width: 25vw;
      height: auto;
      border-radius: 0.5vw;
      opacity: 0;
    }

  
    .clickable#overlay__project_click_bottom {
      position: relative;
      width: 100vw;
      height: 20vh;
      background: linear-gradient(transparent, rgba(0, 0, 0, 0.2));
      cursor: pointer;
      z-index: 10;
    }
  </style>
</head>

<body>
  <!-- –§–æ–Ω–æ–≤—ã–π iframe -->
  <iframe id="blurred-bg" loading="lazy" src="works.html" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; filter: blur(100px); opacity: 0.5; z-index: 0; transform: scale(1.05); user-select: none;"></iframe>

  <!-- –ß–µ—Ä–Ω—ã–π –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π -->
  <div id="black-overlay" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0, 0, 0, 0.3); pointer-events: none; z-index: 1;"></div>

  <!-- –û–±–µ—Ä—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
  <div class="content-wrapper">
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <section class="main_menu">
      <section class="hi_to_hi">
        <button class="main_hi" id="langToggle" data-i18n="lang"></button>
      </section>
      <section class="three_words_meny">
        <button class="go-author" data-i18n="author">Author</button>
        <button class="go-works" data-i18n="works">Works</button>
        <button class="go-pictures" data-i18n="pictures">Pictures</button>
      </section>
    </section>

    <!-- –ë–ª–æ–∫ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ -->
    <section class="opisanie_proekta">
      <div class="basic_text_1" data-i18n="projectDescription"></div>
      <div class="mini_podpisi">
        <div class="mini_podpisi_nachinka">
          <p class="curator" data-i18n="curatorLabel"></p>
          <p class="name_of_curator" data-i18n="curatorName"></p>
        </div>
        <div class="pobochkam">
          <a class="loliki" data-i18n="link" href="https://hsedesign.ru/project/7356d76e7ea142daa0bb77593d2d0320"></a>
        </div>
      </div>
    </section>

    <!-- –ì–∞–ª–µ—Ä–µ—è –ø–æ—Å—Ç–µ—Ä–æ–≤ -->
    <section class="nachinka_posters">
      <div class="nachinka_posters_1">
        <video class="fullwidth-video" autoplay muted loop playsinline>
          <source src="images/posters_1.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="nachinka_posters_2">
        <img loading="lazy" src="images/posters_nachinla_2.png" alt="Poster 2" />
        <video autoplay muted loop playsinline>
          <source src="images/00000-0220.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="nachinka_posters_3">
        <div class="posters_1_line">
          <img loading="lazy" src="images/poster1.png" alt="Poster 1" data-series="1" />
          <img loading="lazy" src="images/poster2.png" alt="Poster 2" data-series="2" />
          <img loading="lazy" src="images/poster3.png" alt="Poster 3" data-series="3" />
        </div>
        <div class="posters_1_line">
          <img loading="lazy" src="images/poster4.png" alt="Poster 4" data-series="4" />
          <img loading="lazy" src="images/poster5.png" alt="Poster 5" data-series="5" />
          <img loading="lazy" src="images/poster6.png" alt="Poster 6" data-series="6" />
        </div>
      </div>

      <div class="nachinka_posters_4">
        <video autoplay muted loop playsinline>
          <source src="images/posters_nachinka_4.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="clickable" id="overlay__project_click_bottom"></div>
    </section>
  </div>

  <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
  <div class="overlay" id="overlay">
    <div class="overlay-content" id="overlayContent"></div>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <script>

     // === –ü–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π ===
const translations = {
  en: {
    author: "Author",
    works: "Works",
    pictures: "Pictures",
    projectDescription: "NOT is a techno music festival based on melodies extracted from different plants.<br><br>The posters reveal new facets of this festival. NOT is not only a rebellious but also a serious brand.",
    curatorLabel: "curator:",
    curatorName: "Violetta Lukyanova",
    link: "View the full case"
  },
  ru: {
    author: "–ê–≤—Ç–æ—Ä",
    works: "–†–∞–±–æ—Ç—ã",
    pictures: "–ö–∞—Ä—Ç–∏–Ω—ã",
    projectDescription: "NOT ‚Äî —ç—Ç–æ —Ñ–µ—Å—Ç–∏–≤–∞–ª—å —Ç–µ—Ö–Ω–æ-–º—É–∑—ã–∫–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –º–µ–ª–æ–¥–∏—è—Ö, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π.<br><br>–ü–æ—Å—Ç–µ—Ä—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ –≥—Ä–∞–Ω–∏ —ç—Ç–æ–≥–æ —Ñ–µ—Å—Ç–∏–≤–∞–ª—è. NOT ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –±—É–Ω—Ç–∞—Ä—Å–∫–∏–π,<br> –Ω–æ –∏ —Å–µ—Ä—å—ë–∑–Ω—ã–π –±—Ä–µ–Ω–¥.",
    curatorLabel: "–∫—É—Ä–∞—Ç–æ—Ä:",
    curatorName: "–í–∏–æ–ª–µ—Ç—Ç–∞ –õ—É–∫—å—è–Ω–æ–≤–∞",
    link: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é"
  }
};

let currentLang = localStorage.getItem('siteLang') || 'ru';

// === –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞ ===
const updateLanguage = () => {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[currentLang][key]) {
      el.innerHTML = translations[currentLang][key];
    }
  });
  document.getElementById('langToggle').textContent = currentLang === 'ru' ? '' : '';
};

document.getElementById('langToggle')?.addEventListener('click', () => {
  currentLang = currentLang === 'ru' ? 'en' : 'ru';
  localStorage.setItem('siteLang', currentLang);
  updateLanguage();
});

updateLanguage();

// === GSAP –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ ===
gsap.registerPlugin(ScrollTrigger);

const btn = document.querySelector('.main_hi');
const images = [
  'images/üòá.png',
  'images/ü§µ‚Äç‚ôÄÔ∏è.png',
  'images/üñº.png',
  'images/üìö.png'
];
let currentIndex = 0;

function updateButtonBackground() {
  btn.style.backgroundImage = `url(${images[currentIndex]})`;
}

updateButtonBackground();

gsap.fromTo('.main_hi', { opacity: 0 }, { opacity: 1, duration: 1, ease: "power2.out" });

document.querySelectorAll('.main_hi').forEach(btn => {
  btn.addEventListener('click', () => {
    window.location.href = 'index.html';
  });
});

// === –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–Ω–æ–ø–∫–∞–º ===
document.querySelector('.go-author')?.addEventListener('click', () => {
  window.location.href = 'author.html';
});

document.querySelector('.go-pictures')?.addEventListener('click', () => {
  window.location.href = 'pictures.html';
});

document.querySelector('.go-works')?.addEventListener('click', () => {
  window.location.href = 'works.html';
});

// === –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Å—Ç–µ—Ä–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ + lazy –∑–∞–≥—Ä—É–∑–∫–∞ ===
const posters = document.querySelectorAll('.nachinka_posters_3 img');
posters.forEach((poster, index) => {
  poster.setAttribute('loading', 'lazy');

  gsap.fromTo(poster,
    { opacity: 0, scale: 0.8, y: 20 },
    {
      opacity: 1,
      scale: 1,
      y: 0,
      duration: 0.8,
      ease: "power2.out",
      scrollTrigger: {
        trigger: poster,
        start: "top 90%",
        toggleActions: "play none none none"
      },
      delay: index * 0.1
    }
  );
});

// === –õ–æ–≥–∏–∫–∞ overlay –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø–æ—Å—Ç–µ—Ä ===
const overlay = document.getElementById('overlay');
const overlayContent = document.getElementById('overlayContent');

const posterSeries = {
  1: ['images/poster1.png', 'images/poster1_2.png', 'images/poster1_3.png'],
  2: ['images/poster2.png', 'images/poster2_2.png', 'images/poster2_3.png'],
  3: ['images/poster3.png', 'images/poster3_2.png', 'images/poster3_3.png'],
  4: ['images/poster4.png', 'images/poster4_2.png', 'images/poster4_3.png'],
  5: ['images/poster5.png', 'images/poster5_2.png', 'images/poster5_3.png'],
  6: ['images/poster6.png', 'images/poster6_2.png', 'images/poster6_3.png'],
};

posters.forEach(poster => {
  poster.addEventListener('click', () => {
    const series = poster.dataset.series;
    const images = posterSeries[series] || [];

    overlayContent.innerHTML = '';
    images.forEach(src => {
      const img = document.createElement('img');
      img.src = src;
      img.setAttribute('loading', 'lazy');
      overlayContent.appendChild(img);
    });

    overlay.style.display = 'flex';
    gsap.fromTo(overlay,
      { opacity: 0, backdropFilter: "blur(0px)" },
      {
        opacity: 1,
        backdropFilter: "blur(80.95393371582031px)",
        duration: 0.6,
        ease: "power2.out"
      }
    );

    gsap.fromTo(overlayContent.querySelectorAll('img'),
      { opacity: 0, y: 20 },
      {
        opacity: 1,
        y: 0,
        duration: 0.6,
        ease: "power2.out",
        stagger: 0.1
      }
    );
  });
});

overlay.addEventListener('click', (e) => {
  if (e.target === overlay) {
    gsap.to(overlay, {
      opacity: 0,
      backdropFilter: "blur(0px)",
      duration: 0.6,
      ease: "power2.in",
      onComplete: () => {
        overlay.style.display = 'none';
        overlayContent.innerHTML = '';
      }
    });
  }
});

// === –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ–∫—Ü–∏–π –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ ===
const animatedSections = document.querySelectorAll('body > .content-wrapper > section:not(.main_menu), .nachinka_posters > div:not(.clickable)');

animatedSections.forEach(section => {
  gsap.from(section, {
    opacity: 0,
    y: 50,
    duration: 1,
    ease: "power2.out",
    scrollTrigger: {
      trigger: section,
      start: "top 90%",
      toggleActions: "play none none none",
    }
  });
});

// === –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ works.html –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–∞–Ω–∏—Ü—ã ===
let isTransitioning = false;

function startTransition() {
  if (isTransitioning) return;
  isTransitioning = true;

  document.body.style.overflow = 'hidden';

  gsap.to('.content-wrapper', {
    y: '-100vh',
    duration: 1.5,
    ease: 'power2.inOut',
    onComplete: () => {
      window.location.href = 'works.html';
    }
  });

  gsap.to('#blurred-bg', {
    filter: 'blur(0px)',
    opacity: 1,
    duration: 1.5,
    ease: 'power2.inOut'
  });

  gsap.to('#black-overlay', {
    opacity: 0,
    duration: 1.5,
    ease: 'power2.inOut'
  });
}

window.addEventListener('scroll', () => {
  const scrollTop = window.scrollY || document.documentElement.scrollTop;
  const windowHeight = window.innerHeight || document.documentElement.clientHeight;
  const docHeight = document.documentElement.scrollHeight;
  const buffer = windowHeight * 0.1;

  if (!isTransitioning && scrollTop + windowHeight + buffer >= docHeight) {
    startTransition();
  }
});

// === –ö–ª–∏–∫ –ø–æ –Ω–∏–∂–Ω–µ–π –∑–æ–Ω–µ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ ===
document.getElementById('overlay__project_click_bottom').addEventListener('click', startTransition);

  </script>
</body>
</html>